<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.0" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.2" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://weige212.github.io/blogs/articles/java/Request_Response.html"><meta property="og:site_name" content="WEIçš„çŸ¥è¯†åº“"><meta property="og:title" content="Requestå’ŒResponseè¯¦è§£"><meta property="og:description" content="1. Requestå’ŒResponseçš„æ¦‚è¿° Requestå’ŒResponse requestè·å–è¯·æ±‚æ•°æ® æµè§ˆå™¨ä¼šå‘é€HTTPè¯·æ±‚åˆ°åå°æœåŠ¡å™¨[Tomcat] HTTPçš„è¯·æ±‚ä¸­ä¼šåŒ…å«å¾ˆå¤šè¯·æ±‚æ•°æ®[è¯·æ±‚è¡Œ+è¯·æ±‚å¤´+è¯·æ±‚ä½“] åå°æœåŠ¡å™¨[Tomcat]ä¼šå¯¹HTTPè¯·æ±‚ä¸­çš„æ•°æ®è¿›è¡Œè§£æå¹¶æŠŠè§£æç»“æœå­˜å…¥åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­ æ‰€å­˜å…¥çš„å¯¹è±¡å³ä¸ºrequestå¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä»requestå¯¹è±¡ä¸­è·å–è¯·æ±‚çš„ç›¸å…³å‚æ•° è·å–åˆ°æ•°æ®åå°±å¯ä»¥ç»§ç»­åç»­çš„ä¸šåŠ¡ï¼Œæ¯”å¦‚è·å–ç”¨æˆ·åå’Œå¯†ç å°±å¯ä»¥å®ç°ç™»å½•æ“ä½œçš„ç›¸å…³ä¸šåŠ¡ responseè®¾ç½®å“åº”æ•°æ® ä¸šåŠ¡å¤„ç†å®Œåï¼Œåå°å°±éœ€è¦ç»™å‰ç«¯è¿”å›ä¸šåŠ¡å¤„ç†çš„ç»“æœå³å“åº”æ•°æ® æŠŠå“åº”æ•°æ®å°è£…åˆ°responseå¯¹è±¡ä¸­ åå°æœåŠ¡å™¨[Tomcat]ä¼šè§£æresponseå¯¹è±¡,æŒ‰ç…§[å“åº”è¡Œ+å“åº”å¤´+å“åº”ä½“]æ ¼å¼æ‹¼æ¥ç»“æœ æµè§ˆå™¨æœ€ç»ˆè§£æç»“æœï¼ŒæŠŠå†…å®¹å±•ç¤ºåœ¨æµè§ˆå™¨ç»™ç”¨æˆ·æµè§ˆ"><meta property="og:type" content="article"><meta property="og:image" content="https://weige212.github.io/"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-05-23T13:32:04.000Z"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="Requestå’ŒResponseè¯¦è§£"><meta property="article:author" content="Mr.WEI"><meta property="article:tag" content="JavaWeb"><meta property="article:tag" content="Request"><meta property="article:tag" content="Response"><meta property="article:published_time" content="2024-05-23T00:00:00.000Z"><meta property="article:modified_time" content="2024-05-23T13:32:04.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Requestå’ŒResponseè¯¦è§£","image":["https://weige212.github.io/"],"datePublished":"2024-05-23T00:00:00.000Z","dateModified":"2024-05-23T13:32:04.000Z","author":[{"@type":"Person","name":"Mr.WEI"}]}</script><meta name="robots" content="all"><meta name="author" content="Mr.WEI"><meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="Expires" content="0"><meta name="keywords" content="JavaåŸºç¡€, å¤šçº¿ç¨‹, JVM, è™šæ‹Ÿæœº, æ•°æ®åº“, MySQL, Spring, Redis, MyBatis, ç³»ç»Ÿè®¾è®¡, åˆ†å¸ƒå¼, RPC, é«˜å¯ç”¨, é«˜å¹¶å‘"><meta name="apple-mobile-web-app-capable" content="yes"><script>var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?5dd2e8c97962d57b7b8fea1737c01743";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();</script><link rel="icon" href="/assets/icon/logo.png"><title>Requestå’ŒResponseè¯¦è§£ | WEIçš„çŸ¥è¯†åº“</title><meta name="description" content="1. Requestå’ŒResponseçš„æ¦‚è¿° Requestå’ŒResponse requestè·å–è¯·æ±‚æ•°æ® æµè§ˆå™¨ä¼šå‘é€HTTPè¯·æ±‚åˆ°åå°æœåŠ¡å™¨[Tomcat] HTTPçš„è¯·æ±‚ä¸­ä¼šåŒ…å«å¾ˆå¤šè¯·æ±‚æ•°æ®[è¯·æ±‚è¡Œ+è¯·æ±‚å¤´+è¯·æ±‚ä½“] åå°æœåŠ¡å™¨[Tomcat]ä¼šå¯¹HTTPè¯·æ±‚ä¸­çš„æ•°æ®è¿›è¡Œè§£æå¹¶æŠŠè§£æç»“æœå­˜å…¥åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­ æ‰€å­˜å…¥çš„å¯¹è±¡å³ä¸ºrequestå¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä»requestå¯¹è±¡ä¸­è·å–è¯·æ±‚çš„ç›¸å…³å‚æ•° è·å–åˆ°æ•°æ®åå°±å¯ä»¥ç»§ç»­åç»­çš„ä¸šåŠ¡ï¼Œæ¯”å¦‚è·å–ç”¨æˆ·åå’Œå¯†ç å°±å¯ä»¥å®ç°ç™»å½•æ“ä½œçš„ç›¸å…³ä¸šåŠ¡ responseè®¾ç½®å“åº”æ•°æ® ä¸šåŠ¡å¤„ç†å®Œåï¼Œåå°å°±éœ€è¦ç»™å‰ç«¯è¿”å›ä¸šåŠ¡å¤„ç†çš„ç»“æœå³å“åº”æ•°æ® æŠŠå“åº”æ•°æ®å°è£…åˆ°responseå¯¹è±¡ä¸­ åå°æœåŠ¡å™¨[Tomcat]ä¼šè§£æresponseå¯¹è±¡,æŒ‰ç…§[å“åº”è¡Œ+å“åº”å¤´+å“åº”ä½“]æ ¼å¼æ‹¼æ¥ç»“æœ æµè§ˆå™¨æœ€ç»ˆè§£æç»“æœï¼ŒæŠŠå†…å®¹å±•ç¤ºåœ¨æµè§ˆå™¨ç»™ç”¨æˆ·æµè§ˆ">
    <link rel="preload" href="/assets/style-COItiyu0.css" as="style"><link rel="stylesheet" href="/assets/style-COItiyu0.css">
    <link rel="modulepreload" href="/assets/app-JIs1ltJE.js"><link rel="modulepreload" href="/assets/Request_Response.html--88weNvT.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-x3n3nnut.js"><link rel="modulepreload" href="/assets/Request_Response.html-FARI31Ai.js">
    <link rel="prefetch" href="/assets/index.html-A73NuUuY.js" as="script"><link rel="prefetch" href="/assets/intro.html-pgP7yx9j.js" as="script"><link rel="prefetch" href="/assets/index.html-ARvHV1a1.js" as="script"><link rel="prefetch" href="/assets/maven.html-RMDNEoQ0.js" as="script"><link rel="prefetch" href="/assets/minio.html-wMKME57j.js" as="script"><link rel="prefetch" href="/assets/index.html-tDPQW_M6.js" as="script"><link rel="prefetch" href="/assets/db1.html-nD8iKAXF.js" as="script"><link rel="prefetch" href="/assets/db2.html-6jlzizAQ.js" as="script"><link rel="prefetch" href="/assets/Debug1.html-r3XqZrpS.js" as="script"><link rel="prefetch" href="/assets/index.html-Vb1Qempc.js" as="script"><link rel="prefetch" href="/assets/Filter.html-3WmYhxcE.js" as="script"><link rel="prefetch" href="/assets/index.html-iLWS8CVw.js" as="script"><link rel="prefetch" href="/assets/Servlet.html-mUzg0e3c.js" as="script"><link rel="prefetch" href="/assets/index.html-VCYVSnXj.js" as="script"><link rel="prefetch" href="/assets/network1.html-iJ9kOB-h.js" as="script"><link rel="prefetch" href="/assets/index.html-7Ozm1-mw.js" as="script"><link rel="prefetch" href="/assets/spring1.html-JBbk1XmQ.js" as="script"><link rel="prefetch" href="/assets/spring2.html-BSa8fR-o.js" as="script"><link rel="prefetch" href="/assets/spring3.html-8RxyrVM9.js" as="script"><link rel="prefetch" href="/assets/spring4.html-i-vkkWm4.js" as="script"><link rel="prefetch" href="/assets/spring5.html-D-oEa8oZ.js" as="script"><link rel="prefetch" href="/assets/spring6.html-dK7MBCz5.js" as="script"><link rel="prefetch" href="/assets/spring7.html-AzfiJlyD.js" as="script"><link rel="prefetch" href="/assets/spring8.html-R9X37kTW.js" as="script"><link rel="prefetch" href="/assets/spring9.html-pka-RRvW.js" as="script"><link rel="prefetch" href="/assets/index.html-7nmUiIzu.js" as="script"><link rel="prefetch" href="/assets/index.html-iefjAXwG.js" as="script"><link rel="prefetch" href="/assets/tool1.html-S6rx8twx.js" as="script"><link rel="prefetch" href="/assets/404.html-IIfVSl1h.js" as="script"><link rel="prefetch" href="/assets/index.html-pNTXiay4.js" as="script"><link rel="prefetch" href="/assets/index.html-8mW7NtPw.js" as="script"><link rel="prefetch" href="/assets/index.html-5ThZsiOj.js" as="script"><link rel="prefetch" href="/assets/index.html-iu2FfLHr.js" as="script"><link rel="prefetch" href="/assets/index.html-_l8TH-aB.js" as="script"><link rel="prefetch" href="/assets/index.html-c0EqqW3-.js" as="script"><link rel="prefetch" href="/assets/index.html-WBjBO1Cm.js" as="script"><link rel="prefetch" href="/assets/index.html-Ho8xTM5i.js" as="script"><link rel="prefetch" href="/assets/index.html-3WL0iEmb.js" as="script"><link rel="prefetch" href="/assets/index.html-65tFaRNK.js" as="script"><link rel="prefetch" href="/assets/index.html-6Wcz99Qp.js" as="script"><link rel="prefetch" href="/assets/index.html-_HZTq_vo.js" as="script"><link rel="prefetch" href="/assets/index.html-ybrtOPQA.js" as="script"><link rel="prefetch" href="/assets/index.html-MCltGwnv.js" as="script"><link rel="prefetch" href="/assets/index.html-x-VKGG_G.js" as="script"><link rel="prefetch" href="/assets/index.html-alK0Fm4C.js" as="script"><link rel="prefetch" href="/assets/index.html-UuWzj68e.js" as="script"><link rel="prefetch" href="/assets/index.html-VHBdvppl.js" as="script"><link rel="prefetch" href="/assets/index.html-TonHVJKh.js" as="script"><link rel="prefetch" href="/assets/index.html-BNlCsJgl.js" as="script"><link rel="prefetch" href="/assets/index.html-qaw9GF8b.js" as="script"><link rel="prefetch" href="/assets/index.html-_xmp9AwM.js" as="script"><link rel="prefetch" href="/assets/index.html-wTxcoYaQ.js" as="script"><link rel="prefetch" href="/assets/index.html-a02XnB_w.js" as="script"><link rel="prefetch" href="/assets/index.html-9IyZH3sm.js" as="script"><link rel="prefetch" href="/assets/index.html-DPoR-k-V.js" as="script"><link rel="prefetch" href="/assets/index.html-z2ps5CNv.js" as="script"><link rel="prefetch" href="/assets/index.html-QJeRXTY8.js" as="script"><link rel="prefetch" href="/assets/index.html-7JV_rJdl.js" as="script"><link rel="prefetch" href="/assets/index.html-7e38UjdS.js" as="script"><link rel="prefetch" href="/assets/index.html-MuYCglhg.js" as="script"><link rel="prefetch" href="/assets/index.html-jlHFf7TH.js" as="script"><link rel="prefetch" href="/assets/index.html-VMTagUqU.js" as="script"><link rel="prefetch" href="/assets/index.html-_DFw20Bt.js" as="script"><link rel="prefetch" href="/assets/index.html-hwetCxhM.js" as="script"><link rel="prefetch" href="/assets/index.html-d0_Q1OM1.js" as="script"><link rel="prefetch" href="/assets/index.html-9VI8GU8I.js" as="script"><link rel="prefetch" href="/assets/index.html-xnzVsRhw.js" as="script"><link rel="prefetch" href="/assets/intro.html-hacUURio.js" as="script"><link rel="prefetch" href="/assets/index.html-WUBPWuQV.js" as="script"><link rel="prefetch" href="/assets/maven.html-cio7vyCz.js" as="script"><link rel="prefetch" href="/assets/minio.html-VyPWv2Y3.js" as="script"><link rel="prefetch" href="/assets/index.html-lv0KjgKd.js" as="script"><link rel="prefetch" href="/assets/db1.html-IoNfiO3V.js" as="script"><link rel="prefetch" href="/assets/db2.html-zgphd5LZ.js" as="script"><link rel="prefetch" href="/assets/Debug1.html-7SEOU16l.js" as="script"><link rel="prefetch" href="/assets/index.html-jAJ4MaEe.js" as="script"><link rel="prefetch" href="/assets/Filter.html-MFI77QO1.js" as="script"><link rel="prefetch" href="/assets/index.html-ZSS9GflL.js" as="script"><link rel="prefetch" href="/assets/Servlet.html-VjfKOsHY.js" as="script"><link rel="prefetch" href="/assets/index.html-HpY995rP.js" as="script"><link rel="prefetch" href="/assets/network1.html-xbA7NLuI.js" as="script"><link rel="prefetch" href="/assets/index.html-1m4Esc_K.js" as="script"><link rel="prefetch" href="/assets/spring1.html-wO3ppJsa.js" as="script"><link rel="prefetch" href="/assets/spring2.html-2NKnT5pD.js" as="script"><link rel="prefetch" href="/assets/spring3.html-haIqdjwo.js" as="script"><link rel="prefetch" href="/assets/spring4.html-y6au2rZQ.js" as="script"><link rel="prefetch" href="/assets/spring5.html-tYbpsy9j.js" as="script"><link rel="prefetch" href="/assets/spring6.html-a7msfj2N.js" as="script"><link rel="prefetch" href="/assets/spring7.html-RsDTeZR_.js" as="script"><link rel="prefetch" href="/assets/spring8.html-Bg7-iTHg.js" as="script"><link rel="prefetch" href="/assets/spring9.html-4nYUrYAt.js" as="script"><link rel="prefetch" href="/assets/index.html-6JML2ndR.js" as="script"><link rel="prefetch" href="/assets/index.html-tx8MDYDI.js" as="script"><link rel="prefetch" href="/assets/tool1.html-SyaCrY7N.js" as="script"><link rel="prefetch" href="/assets/404.html-lxjyhNaq.js" as="script"><link rel="prefetch" href="/assets/index.html-ys9CWJCW.js" as="script"><link rel="prefetch" href="/assets/index.html-56dq4jG8.js" as="script"><link rel="prefetch" href="/assets/index.html-sCrWssPo.js" as="script"><link rel="prefetch" href="/assets/index.html-MhxujqZh.js" as="script"><link rel="prefetch" href="/assets/index.html-f7VRKBv1.js" as="script"><link rel="prefetch" href="/assets/index.html-XttfA5ed.js" as="script"><link rel="prefetch" href="/assets/index.html-ML9fa1Pp.js" as="script"><link rel="prefetch" href="/assets/index.html-xEl7bjms.js" as="script"><link rel="prefetch" href="/assets/index.html-2sC_X8k0.js" as="script"><link rel="prefetch" href="/assets/index.html-MsoDBh_o.js" as="script"><link rel="prefetch" href="/assets/index.html-dxqfv8R4.js" as="script"><link rel="prefetch" href="/assets/index.html-z7LjWWki.js" as="script"><link rel="prefetch" href="/assets/index.html-_tMi1LEp.js" as="script"><link rel="prefetch" href="/assets/index.html-x3zhyhOR.js" as="script"><link rel="prefetch" href="/assets/index.html-1GDMPNqf.js" as="script"><link rel="prefetch" href="/assets/index.html-D2lWqNKj.js" as="script"><link rel="prefetch" href="/assets/index.html-meJ62gnB.js" as="script"><link rel="prefetch" href="/assets/index.html-MEo0pGxn.js" as="script"><link rel="prefetch" href="/assets/index.html-OjhW7BRk.js" as="script"><link rel="prefetch" href="/assets/index.html-kSBHcsHt.js" as="script"><link rel="prefetch" href="/assets/index.html-HU8-F2Aa.js" as="script"><link rel="prefetch" href="/assets/index.html-4HVYHMDc.js" as="script"><link rel="prefetch" href="/assets/index.html-4VTEpaFo.js" as="script"><link rel="prefetch" href="/assets/index.html-VpdU2dqS.js" as="script"><link rel="prefetch" href="/assets/index.html-Jrxf7Kl5.js" as="script"><link rel="prefetch" href="/assets/index.html-PBK4D3I2.js" as="script"><link rel="prefetch" href="/assets/index.html-hra8w8wf.js" as="script"><link rel="prefetch" href="/assets/index.html-f3D0aWp6.js" as="script"><link rel="prefetch" href="/assets/index.html-i5Iq_cr5.js" as="script"><link rel="prefetch" href="/assets/index.html-esYYwavS.js" as="script"><link rel="prefetch" href="/assets/index.html-e4oZCUfC.js" as="script"><link rel="prefetch" href="/assets/index.html-loYoGK0P.js" as="script"><link rel="prefetch" href="/assets/index.html-akJ6sb6V.js" as="script"><link rel="prefetch" href="/assets/index.html-ABQMmdnA.js" as="script"><link rel="prefetch" href="/assets/index.html-j2vwmCK1.js" as="script"><link rel="prefetch" href="/assets/index.html-gnsk6GG_.js" as="script"><link rel="prefetch" href="/assets/index.html-j4AG4WbZ.js" as="script"><link rel="prefetch" href="/assets/giscus-unEZQsJ0.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-i2ohwMnJ.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container no-sidebar has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand vp-brand" href="/"><!----><!----><span class="vp-site-name">WEIçš„çŸ¥è¯†åº“</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a aria-label="ä¸»é¡µ" class="vp-link nav-link nav-link" href="/"><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span>ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="æŠ€æœ¯åšæ–‡"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>æŠ€æœ¯åšæ–‡</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-label="Java" class="vp-link nav-link active nav-link active" href="/blogs/articles/java/"><!---->Java<!----></a></li><li class="dropdown-item"><a aria-label="Spring" class="vp-link nav-link nav-link" href="/blogs/articles/spring/"><!---->Spring<!----></a></li><li class="dropdown-item"><a aria-label="SpringMVC" class="vp-link nav-link nav-link" href="/blogs/articles/springmvc/"><!---->SpringMVC<!----></a></li><li class="dropdown-item"><a aria-label="æ•°æ®åº“" class="vp-link nav-link nav-link" href="/blogs/articles/database/"><!---->æ•°æ®åº“<!----></a></li><li class="dropdown-item"><a aria-label="è®¡ç®—æœºç½‘ç»œ" class="vp-link nav-link nav-link" href="/blogs/articles/network/"><!---->è®¡ç®—æœºç½‘ç»œ<!----></a></li><li class="dropdown-item"><a aria-label="Debug" class="vp-link nav-link nav-link" href="/blogs/articles/debug/"><!---->Debug<!----></a></li><li class="dropdown-item"><a aria-label="IDEå·¥å…·" class="vp-link nav-link nav-link" href="/blogs/articles/tools/"><!---->IDEå·¥å…·<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a aria-label="ä»£ç ç‰‡æ®µ" class="vp-link nav-link nav-link" href="/blogs/codes/"><span class="font-icon icon fa-fw fa-sm fas fa-code" style=""></span>ä»£ç ç‰‡æ®µ<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="æ—¶é—´è½´" class="vp-link nav-link nav-link" href="/timeline.html"><span class="font-icon icon fa-fw fa-sm fas fa-list" style=""></span>æ—¶é—´è½´<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="ä½œè€…" class="vp-link nav-link nav-link" href="/intro.html"><span class="font-icon icon fa-fw fa-sm fas fa-at" style=""></span>ä½œè€…<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><!----><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span>Requestå’ŒResponseè¯¦è§£</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">Mr.WEI</span></span><span property="author" content="Mr.WEI"></span></span><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2024-05-23T00:00:00.000Z"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category4 clickable" role="navigation">Java</span><!--]--><meta property="articleSection" content="Java"></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item tag8 clickable" role="navigation">JavaWeb</span><span class="page-tag-item tag6 clickable" role="navigation">Request</span><span class="page-tag-item tag1 clickable" role="navigation">Response</span><!--]--><meta property="keywords" content="JavaWeb,Request,Response"></span><!----><span class="page-word-info" aria-label="å­—æ•°ğŸ” " data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>çº¦ 6131 å­—</span><meta property="wordCount" content="6131"></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 20 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT20M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1-requestå’Œresponseçš„æ¦‚è¿°">1. Requestå’ŒResponseçš„æ¦‚è¿°</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2-requestå¯¹è±¡">2. Requestå¯¹è±¡</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_2-1-requestç»§æ‰¿ä½“ç³»">2.1 Requestç»§æ‰¿ä½“ç³»</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_2-2-requestè·å–è¯·æ±‚æ•°æ®">2.2 Requestè·å–è¯·æ±‚æ•°æ®</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_2-4-è¯·æ±‚å‚æ•°ä¸­æ–‡ä¹±ç é—®é¢˜">2.4 è¯·æ±‚å‚æ•°ä¸­æ–‡ä¹±ç é—®é¢˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_2-5-requestè¯·æ±‚è½¬å‘">2.5 Requestè¯·æ±‚è½¬å‘</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_3-responseå¯¹è±¡">3. Responseå¯¹è±¡</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_3-1-responseè®¾ç½®å“åº”æ•°æ®åŠŸèƒ½ä»‹ç»">3.1 Responseè®¾ç½®å“åº”æ•°æ®åŠŸèƒ½ä»‹ç»</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_3-2-responesè¯·æ±‚é‡å®šå‘">3.2 Responesè¯·æ±‚é‡å®šå‘</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_3-3-è·¯å¾„é—®é¢˜">3.3 è·¯å¾„é—®é¢˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_3-4-responseå“åº”å­—ç¬¦æ•°æ®">3.4 Responseå“åº”å­—ç¬¦æ•°æ®</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#_3-5-responseå“åº”å­—èŠ‚æ•°æ®">3.5 Responseå“åº”å­—èŠ‚æ•°æ®</a></li><!----><!--]--></ul></li><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!--[--><!----><!--]--><div class="theme-hope-content"><h2 id="_1-requestå’Œresponseçš„æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#_1-requestå’Œresponseçš„æ¦‚è¿°" aria-hidden="true">#</a> 1. Requestå’ŒResponseçš„æ¦‚è¿°</h2><figure><img src="/assets/Requestå’ŒResponse-zt9PhdF5.png" alt="Requestå’ŒResponse" tabindex="0" loading="lazy"><figcaption>Requestå’ŒResponse</figcaption></figure><ul><li>requestè·å–è¯·æ±‚æ•°æ® <ul><li>æµè§ˆå™¨ä¼šå‘é€HTTPè¯·æ±‚åˆ°åå°æœåŠ¡å™¨[Tomcat]</li><li>HTTPçš„è¯·æ±‚ä¸­ä¼šåŒ…å«å¾ˆå¤šè¯·æ±‚æ•°æ®[è¯·æ±‚è¡Œ+è¯·æ±‚å¤´+è¯·æ±‚ä½“]</li><li>åå°æœåŠ¡å™¨[Tomcat]ä¼šå¯¹HTTPè¯·æ±‚ä¸­çš„æ•°æ®è¿›è¡Œè§£æå¹¶æŠŠè§£æç»“æœå­˜å…¥åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­</li><li>æ‰€å­˜å…¥çš„å¯¹è±¡å³ä¸ºrequestå¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä»requestå¯¹è±¡ä¸­è·å–è¯·æ±‚çš„ç›¸å…³å‚æ•°</li><li>è·å–åˆ°æ•°æ®åå°±å¯ä»¥ç»§ç»­åç»­çš„ä¸šåŠ¡ï¼Œæ¯”å¦‚è·å–ç”¨æˆ·åå’Œå¯†ç å°±å¯ä»¥å®ç°ç™»å½•æ“ä½œçš„ç›¸å…³ä¸šåŠ¡</li></ul></li><li>responseè®¾ç½®å“åº”æ•°æ® <ul><li>ä¸šåŠ¡å¤„ç†å®Œåï¼Œåå°å°±éœ€è¦ç»™å‰ç«¯è¿”å›ä¸šåŠ¡å¤„ç†çš„ç»“æœå³å“åº”æ•°æ®</li><li>æŠŠå“åº”æ•°æ®å°è£…åˆ°responseå¯¹è±¡ä¸­</li><li>åå°æœåŠ¡å™¨[Tomcat]ä¼šè§£æresponseå¯¹è±¡,æŒ‰ç…§[å“åº”è¡Œ+å“åº”å¤´+å“åº”ä½“]æ ¼å¼æ‹¼æ¥ç»“æœ</li><li>æµè§ˆå™¨æœ€ç»ˆè§£æç»“æœï¼ŒæŠŠå†…å®¹å±•ç¤ºåœ¨æµè§ˆå™¨ç»™ç”¨æˆ·æµè§ˆ</li></ul></li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/demo3&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo3</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//ä½¿ç”¨requestå¯¹è±¡ è·å–è¯·æ±‚æ•°æ®</span>
        <span class="token class-name">String</span> name <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//url?name=zhangsan</span>

        <span class="token comment">//ä½¿ç”¨responseå¯¹è±¡ è®¾ç½®å“åº”æ•°æ®</span>
        response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;content-type&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;h1&gt;&quot;</span><span class="token operator">+</span>name<span class="token operator">+</span><span class="token string">&quot;,æ¬¢è¿æ‚¨ï¼&lt;/h1&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Post...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯åŠ¨æˆåŠŸåå°±å¯ä»¥é€šè¿‡æµè§ˆå™¨æ¥è®¿é—®ï¼Œå¹¶ä¸”æ ¹æ®ä¼ å…¥å‚æ•°çš„ä¸åŒå°±å¯ä»¥åœ¨é¡µé¢ä¸Šå±•ç¤ºä¸åŒçš„å†…å®¹:</p><figure><img src="/assets/å¯åŠ¨æˆåŠŸ-p0MWsIxX.png" alt="å¯åŠ¨æˆåŠŸ" tabindex="0" loading="lazy"><figcaption>å¯åŠ¨æˆåŠŸ</figcaption></figure><h2 id="_2-requestå¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_2-requestå¯¹è±¡" aria-hidden="true">#</a> 2. Requestå¯¹è±¡</h2><h3 id="_2-1-requestç»§æ‰¿ä½“ç³»" tabindex="-1"><a class="header-anchor" href="#_2-1-requestç»§æ‰¿ä½“ç³»" aria-hidden="true">#</a> 2.1 Requestç»§æ‰¿ä½“ç³»</h3><figure><img src="/assets/Requestç»§æ‰¿ä½“ç³»-mqkHWd7K.png" alt="Requestç»§æ‰¿ä½“ç³»" tabindex="0" loading="lazy"><figcaption>Requestç»§æ‰¿ä½“ç³»</figcaption></figure><p>ä»ä¸Šå›¾ä¸­å¯ä»¥çœ‹å‡ºï¼ŒServletRequestå’ŒHttpServletRequestéƒ½æ˜¯Javaæä¾›çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ‰“å¼€JavaEEæä¾›çš„APIæ–‡æ¡£å¯ä»¥çœ‹åˆ°</p><figure><img src="/assets/APIæ–‡æ¡£Request-gZNfEEkq.png" alt="APIæ–‡æ¡£Request" tabindex="0" loading="lazy"><figcaption>APIæ–‡æ¡£Request</figcaption></figure><p>æ‰€ä»¥ServletRequestå’ŒHttpServletRequestæ˜¯ç»§æ‰¿å…³ç³»ï¼Œå¹¶ä¸”ä¸¤ä¸ªéƒ½æ˜¯æ¥å£ï¼Œæ¥å£æ˜¯æ— æ³•åˆ›å»ºå¯¹è±¡ï¼Œè¿™ä¸ªæ—¶å€™å°±å¼•å‘äº†ä¸‹é¢è¿™ä¸ªé—®é¢˜:</p><figure><img src="/assets/ServletRequestå’ŒHttpServletRequestå®ç°-ky_u1iqG.png" alt="ServletRequestå’ŒHttpServletRequestå®ç°" tabindex="0" loading="lazy"><figcaption>ServletRequestå’ŒHttpServletRequestå®ç°</figcaption></figure><p>è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°Requestç»§æ‰¿ä½“ç³»ä¸­çš„<code>RequestFacade</code>:</p><ul><li>è¯¥ç±»å®ç°äº†HttpServletRequestæ¥å£ï¼Œä¹Ÿé—´æ¥å®ç°äº†ServletRequestæ¥å£ã€‚</li><li>Servletç±»ä¸­çš„serviceæ–¹æ³•ã€doGetæ–¹æ³•æˆ–è€…æ˜¯doPostæ–¹æ³•æœ€ç»ˆéƒ½æ˜¯ç”±WebæœåŠ¡å™¨[Tomcat]æ¥è°ƒç”¨çš„ï¼Œæ‰€ä»¥Tomcatæä¾›äº†æ–¹æ³•å‚æ•°æ¥å£çš„å…·ä½“å®ç°ç±»ï¼Œå¹¶å®Œæˆäº†å¯¹è±¡çš„åˆ›å»º</li><li>è¦æƒ³äº†è§£RequestFacadeä¸­éƒ½æä¾›äº†å“ªäº›æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æŸ¥çœ‹JavaEEçš„APIæ–‡æ¡£ä¸­å…³äºServletRequestå’ŒHttpServletRequestçš„æ¥å£æ–‡æ¡£ï¼Œå› ä¸ºRequestFacadeå®ç°äº†å…¶æ¥å£å°±éœ€è¦é‡å†™æ¥å£ä¸­çš„æ–¹æ³•</li></ul><p>å¯¹äºä¸Šè¿°ç»“è®ºï¼Œè¦æƒ³éªŒè¯ï¼Œå¯ä»¥ç¼–å†™ä¸€ä¸ªServletï¼Œåœ¨æ–¹æ³•ä¸­æŠŠrequestå¯¹è±¡æ‰“å°ä¸‹ï¼Œå°±èƒ½çœ‹åˆ°æœ€ç»ˆçš„å¯¹è±¡æ˜¯ä¸æ˜¯RequestFacade,ä»£ç å¦‚ä¸‹:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/demo2&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo2</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯åŠ¨æœåŠ¡å™¨ï¼Œè¿è¡Œè®¿é—®<code>http://localhost:8080/request-demo/demo2</code>,å¾—åˆ°è¿è¡Œç»“æœ:</p><figure><img src="/assets/å¯åŠ¨æœåŠ¡å™¨-CtLd4Vfw.png" alt="å¯åŠ¨æœåŠ¡å™¨" tabindex="0" loading="lazy"><figcaption>å¯åŠ¨æœåŠ¡å™¨</figcaption></figure><h3 id="_2-2-requestè·å–è¯·æ±‚æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_2-2-requestè·å–è¯·æ±‚æ•°æ®" aria-hidden="true">#</a> 2.2 Requestè·å–è¯·æ±‚æ•°æ®</h3><p>HTTPè¯·æ±‚æ•°æ®æ€»å…±åˆ†ä¸ºä¸‰éƒ¨åˆ†å†…å®¹ï¼Œåˆ†åˆ«æ˜¯<mark>è¯·æ±‚è¡Œã€è¯·æ±‚å¤´ã€è¯·æ±‚ä½“</mark>ï¼Œå¯¹äºè¿™ä¸‰éƒ¨åˆ†å†…å®¹çš„æ•°æ®ï¼Œåˆ†åˆ«è¯¥å¦‚ä½•è·å–ï¼Œé¦–å…ˆæˆ‘ä»¬å…ˆæ¥å­¦ä¹ è¯·æ±‚è¡Œæ•°æ®å¦‚ä½•è·å–?</p><h4 id="_2-2-1-è·å–è¯·æ±‚è¡Œæ•°æ®" tabindex="-1"><a class="header-anchor" href="#_2-2-1-è·å–è¯·æ±‚è¡Œæ•°æ®" aria-hidden="true">#</a> 2.2.1 è·å–è¯·æ±‚è¡Œæ•°æ®</h4><p>è¯·æ±‚è¡ŒåŒ…å«ä¸‰å—å†…å®¹ï¼Œåˆ†åˆ«æ˜¯<code>è¯·æ±‚æ–¹å¼</code>ã€<code>è¯·æ±‚èµ„æºè·¯å¾„</code>ã€<code>HTTPåè®®åŠç‰ˆæœ¬</code></p><figure><img src="/assets/è¯·æ±‚è¡Œ-de0D-0ZJ.png" alt="è¯·æ±‚è¡Œ" tabindex="0" loading="lazy"><figcaption>è¯·æ±‚è¡Œ</figcaption></figure><p>å¯¹äºè¿™ä¸‰éƒ¨åˆ†å†…å®¹ï¼Œrequestå¯¹è±¡éƒ½æä¾›äº†å¯¹åº”çš„APIæ–¹æ³•æ¥è·å–ï¼Œå…·ä½“å¦‚ä¸‹:</p><ul><li>è·å–è¯·æ±‚æ–¹å¼: <code>GET</code></li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>String getMethod()
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>è·å–è™šæ‹Ÿç›®å½•(é¡¹ç›®è®¿é—®è·¯å¾„): <code>/request-demo</code></li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>String getContextPath()
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>è·å–URL(ç»Ÿä¸€èµ„æºå®šä½ç¬¦): <code>http://localhost:8080/request-demo/req1</code></li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>StringBuffer getRequestURL()
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>è·å–URI(ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦): <code>/request-demo/req1</code></li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>String getRequestURI()
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>è·å–è¯·æ±‚å‚æ•°(GETæ–¹å¼): <code>username=zhangsan&amp;password=123</code></li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>String getQueryString()
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * request è·å–è¯·æ±‚æ•°æ®
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/req1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RequestDemo1</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// String getMethod()ï¼šè·å–è¯·æ±‚æ–¹å¼ï¼š GET</span>
        <span class="token class-name">String</span> method <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>method<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//GET</span>
        <span class="token comment">// String getContextPath()ï¼šè·å–è™šæ‹Ÿç›®å½•(é¡¹ç›®è®¿é—®è·¯å¾„)ï¼š/request-demo</span>
        <span class="token class-name">String</span> contextPath <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>contextPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// StringBuffer getRequestURL(): è·å–URL(ç»Ÿä¸€èµ„æºå®šä½ç¬¦)ï¼šhttp://localhost:8080/request-demo/req1</span>
        <span class="token class-name">StringBuffer</span> url <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getRequestURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// String getRequestURI()ï¼šè·å–URI(ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦)ï¼š /request-demo/req1</span>
        <span class="token class-name">String</span> uri <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// String getQueryString()ï¼šè·å–è¯·æ±‚å‚æ•°ï¼ˆGETæ–¹å¼ï¼‰ï¼š username=zhangsan</span>
        <span class="token class-name">String</span> queryString <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getQueryString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>queryString<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-2-2-è·å–è¯·æ±‚å¤´æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_2-2-2-è·å–è¯·æ±‚å¤´æ•°æ®" aria-hidden="true">#</a> 2.2.2 è·å–è¯·æ±‚å¤´æ•°æ®</h4><p>å¯¹äºè¯·æ±‚å¤´çš„æ•°æ®ï¼Œæ ¼å¼ä¸º<code>key: value</code>å¦‚ä¸‹:</p><figure><img src="/assets/è¯·æ±‚å¤´-S0GJ6Afa.png" alt="è¯·æ±‚å¤´" tabindex="0" loading="lazy"><figcaption>è¯·æ±‚å¤´</figcaption></figure><p>æ‰€ä»¥æ ¹æ®è¯·æ±‚å¤´åç§°è·å–å¯¹åº”å€¼çš„æ–¹æ³•ä¸º:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>String getHeader(String name)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ¥ä¸‹æ¥ï¼Œåœ¨ä»£ç ä¸­å¦‚æœæƒ³è¦è·å–å®¢æˆ·ç«¯æµè§ˆå™¨çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œåˆ™å¯ä»¥ä½¿ç”¨</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * request è·å–è¯·æ±‚æ•°æ®
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/req1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RequestDemo1</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//è·å–è¯·æ±‚å¤´: user-agent: æµè§ˆå™¨çš„ç‰ˆæœ¬ä¿¡æ¯</span>
        <span class="token class-name">String</span> agent <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token string">&quot;user-agent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>agent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-2-3-è·å–è¯·æ±‚ä½“æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_2-2-3-è·å–è¯·æ±‚ä½“æ•°æ®" aria-hidden="true">#</a> 2.2.3 è·å–è¯·æ±‚ä½“æ•°æ®</h4><p>æµè§ˆå™¨åœ¨å‘é€GETè¯·æ±‚çš„æ—¶å€™æ˜¯æ²¡æœ‰è¯·æ±‚ä½“çš„ï¼Œæ‰€ä»¥éœ€è¦æŠŠè¯·æ±‚æ–¹å¼å˜æ›´ä¸ºPOSTï¼Œè¯·æ±‚ä½“ä¸­çš„æ•°æ®æ ¼å¼å¦‚ä¸‹:</p><figure><img src="/assets/è¯·æ±‚ä½“-WsFdvzHK.png" alt="è¯·æ±‚ä½“" tabindex="0" loading="lazy"><figcaption>è¯·æ±‚ä½“</figcaption></figure><p>å¯¹äºè¯·æ±‚ä½“ä¸­çš„æ•°æ®ï¼ŒRequestå¯¹è±¡æä¾›äº†å¦‚ä¸‹ä¸¤ç§æ–¹å¼æ¥è·å–å…¶ä¸­çš„æ•°æ®ï¼Œåˆ†åˆ«æ˜¯:</p><ul><li>è·å–å­—èŠ‚è¾“å…¥æµï¼Œå¦‚æœå‰ç«¯å‘é€çš„æ˜¯å­—èŠ‚æ•°æ®ï¼Œæ¯”å¦‚ä¼ é€’çš„æ˜¯æ–‡ä»¶æ•°æ®ï¼Œåˆ™ä½¿ç”¨è¯¥æ–¹æ³•</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>ServletInputStream getInputStream()
è¯¥æ–¹æ³•å¯ä»¥è·å–å­—èŠ‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è·å–å­—ç¬¦è¾“å…¥æµï¼Œå¦‚æœå‰ç«¯å‘é€çš„æ˜¯çº¯æ–‡æœ¬æ•°æ®ï¼Œåˆ™ä½¿ç”¨è¯¥æ–¹æ³•</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>BufferedReader getReader()
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>è°ƒç”¨getReader()æˆ–è€…getInputStream()æ–¹æ³•è·å¾—è¯·æ±‚ä½“ä¸­çš„æ•°æ®ï¼Œå› ä¸ºç›®å‰å‰ç«¯ä¼ é€’çš„æ˜¯çº¯æ–‡æœ¬æ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬é‡‡ç”¨getReader()æ–¹æ³•æ¥è·å–</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * request è·å–è¯·æ±‚æ•°æ®
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/req1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RequestDemo1</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
         <span class="token comment">//è·å–post è¯·æ±‚ä½“ï¼šè¯·æ±‚å‚æ•°</span>
        <span class="token comment">//1. è·å–å­—ç¬¦è¾“å…¥æµ</span>
        <span class="token class-name">BufferedReader</span> br <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2. è¯»å–æ•°æ®</span>
        <span class="token class-name">String</span> line <span class="token operator">=</span> br<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">æ³¨æ„</p><p>BufferedReaderæµæ˜¯é€šè¿‡requestå¯¹è±¡æ¥è·å–çš„ï¼Œå½“è¯·æ±‚å®Œæˆårequestå¯¹è±¡å°±ä¼šè¢«é”€æ¯ï¼Œrequestå¯¹è±¡è¢«é”€æ¯åï¼ŒBufferedReaderæµå°±ä¼šè‡ªåŠ¨å…³é—­ï¼Œæ‰€ä»¥æ­¤å¤„å°±ä¸éœ€è¦æ‰‹åŠ¨å…³é—­æµäº†ã€‚</p></div><h4 id="_2-2-4-è·å–è¯·æ±‚å‚æ•°çš„é€šç”¨æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_2-2-4-è·å–è¯·æ±‚å‚æ•°çš„é€šç”¨æ–¹å¼" aria-hidden="true">#</a> 2.2.4 è·å–è¯·æ±‚å‚æ•°çš„é€šç”¨æ–¹å¼</h4><p>å¯¹äºè¯·æ±‚å‚æ•°çš„è·å–,å¸¸ç”¨çš„æœ‰ä»¥ä¸‹ä¸¤ç§:</p><ul><li>GETæ–¹å¼:</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>String getQueryString()
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>POSTæ–¹å¼:</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>BufferedReader getReader();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ï¼ˆ1ï¼‰å‘é€ä¸€ä¸ªGETè¯·æ±‚å¹¶æºå¸¦ç”¨æˆ·åï¼Œåå°æ¥æ”¶åæ‰“å°åˆ°æ§åˆ¶å°</p><p>ï¼ˆ2ï¼‰å‘é€ä¸€ä¸ªPOSTè¯·æ±‚å¹¶æºå¸¦ç”¨æˆ·åï¼Œåå°æ¥æ”¶åæ‰“å°åˆ°æ§åˆ¶å°</p><p>æ­¤å¤„å¤§å®¶éœ€è¦æ³¨æ„çš„æ˜¯GETè¯·æ±‚å’ŒPOSTè¯·æ±‚æ¥æ”¶å‚æ•°çš„æ–¹å¼ä¸ä¸€æ ·ï¼Œå…·ä½“å®ç°çš„ä»£ç å¦‚ä¸‹:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/req1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RequestDemo1</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token class-name">String</span> result <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getQueryString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">BufferedReader</span> br <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> result <span class="token operator">=</span> br<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>requestå¯¹è±¡å·²ç»å°†ä¸Šè¿°è·å–è¯·æ±‚å‚æ•°çš„æ–¹æ³•è¿›è¡Œäº†å°è£…ï¼Œå¹¶ä¸”requestæä¾›çš„æ–¹æ³•å®ç°çš„åŠŸèƒ½æ›´å¼ºå¤§ï¼Œä»¥ååªéœ€è¦è°ƒç”¨requestæä¾›çš„æ–¹æ³•å³å¯ã€‚</p><div class="hint-container info"><p class="hint-container-title">ç›¸å…³ä¿¡æ¯</p><p>åœ¨requestçš„æ–¹æ³•ä¸­éƒ½å®ç°äº†å“ªäº›æ“ä½œ?</p><p>(1)æ ¹æ®ä¸åŒçš„è¯·æ±‚æ–¹å¼è·å–è¯·æ±‚å‚æ•°ï¼Œè·å–çš„å†…å®¹å¦‚ä¸‹:</p><p>(2)æŠŠè·å–åˆ°çš„å†…å®¹è¿›è¡Œåˆ†å‰²ï¼Œå†…å®¹å¦‚ä¸‹:</p><p>(3)æŠŠåˆ†å‰²åç«¯æ•°æ®ï¼Œå­˜å…¥åˆ°ä¸€ä¸ªMapé›†åˆä¸­</p><p><strong>æ³¨æ„</strong>:å› ä¸ºå‚æ•°çš„å€¼å¯èƒ½æ˜¯ä¸€ä¸ªï¼Œä¹Ÿå¯èƒ½æœ‰å¤šä¸ªï¼Œæ‰€ä»¥Mapçš„å€¼çš„ç±»å‹ä¸ºStringæ•°ç»„ã€‚</p></div><p>åŸºäºä¸Šè¿°ç†è®ºï¼Œrequestå¯¹è±¡ä¸ºæˆ‘ä»¬æä¾›äº†å¦‚ä¸‹æ–¹æ³•:</p><ul><li>è·å–æ‰€æœ‰å‚æ•°Mapé›†åˆ</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Map&lt;String,String[]&gt; getParameterMap()
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>æ ¹æ®åç§°è·å–å‚æ•°å€¼ï¼ˆæ•°ç»„ï¼‰</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>String[] getParameterValues(String name)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>æ ¹æ®åç§°è·å–å‚æ•°å€¼(å•ä¸ªå€¼)</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>String getParameter(String name)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-4-è¯·æ±‚å‚æ•°ä¸­æ–‡ä¹±ç é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_2-4-è¯·æ±‚å‚æ•°ä¸­æ–‡ä¹±ç é—®é¢˜" aria-hidden="true">#</a> 2.4 è¯·æ±‚å‚æ•°ä¸­æ–‡ä¹±ç é—®é¢˜</h3><h4 id="_2-4-1-postè¯·æ±‚è§£å†³æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#_2-4-1-postè¯·æ±‚è§£å†³æ–¹æ¡ˆ" aria-hidden="true">#</a> 2.4.1 POSTè¯·æ±‚è§£å†³æ–¹æ¡ˆ</h4><ul><li>åˆ†æå‡ºç°ä¸­æ–‡ä¹±ç çš„åŸå› ï¼š <ul><li>POSTçš„è¯·æ±‚å‚æ•°æ˜¯é€šè¿‡requestçš„getReader()æ¥è·å–æµä¸­çš„æ•°æ®</li><li>TOMCATåœ¨è·å–æµçš„æ—¶å€™é‡‡ç”¨çš„ç¼–ç æ˜¯ISO-8859-1</li><li>ISO-8859-1ç¼–ç æ˜¯ä¸æ”¯æŒä¸­æ–‡çš„ï¼Œæ‰€ä»¥ä¼šå‡ºç°ä¹±ç </li></ul></li><li>è§£å†³æ–¹æ¡ˆï¼š <ul><li>é¡µé¢è®¾ç½®çš„ç¼–ç æ ¼å¼ä¸ºUTF-8</li><li>æŠŠTOMCATåœ¨è·å–æµæ•°æ®ä¹‹å‰çš„ç¼–ç è®¾ç½®ä¸ºUTF-8</li><li>é€šè¿‡request.setCharacterEncoding(&quot;UTF-8&quot;)è®¾ç½®ç¼–ç ,UTF-8ä¹Ÿå¯ä»¥å†™æˆå°å†™</li></ul></li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * ä¸­æ–‡ä¹±ç é—®é¢˜è§£å†³æ–¹æ¡ˆ
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/req4&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RequestDemo4</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1. è§£å†³ä¹±ç : POST getReader()</span>
        <span class="token comment">//è®¾ç½®å­—ç¬¦è¾“å…¥æµçš„ç¼–ç ï¼Œè®¾ç½®çš„å­—ç¬¦é›†è¦å’Œé¡µé¢ä¿æŒä¸€è‡´</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token comment">//2. è·å–username</span>
       <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-4-2-getè¯·æ±‚è§£å†³æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#_2-4-2-getè¯·æ±‚è§£å†³æ–¹æ¡ˆ" aria-hidden="true">#</a> 2.4.2 GETè¯·æ±‚è§£å†³æ–¹æ¡ˆ</h4><p>åˆšæ‰æåˆ°ä¸€ä¸ªé—®é¢˜æ˜¯<code>POSTè¯·æ±‚çš„ä¸­æ–‡ä¹±ç è§£å†³æ–¹æ¡ˆä¸ºä»€ä¹ˆä¸é€‚ç”¨GETè¯·æ±‚ï¼Ÿ</code></p><ul><li>GETè¯·æ±‚è·å–è¯·æ±‚å‚æ•°çš„æ–¹å¼æ˜¯<code>request.getQueryString()</code></li><li>POSTè¯·æ±‚è·å–è¯·æ±‚å‚æ•°çš„æ–¹å¼æ˜¯<code>request.getReader()</code></li><li>request.setCharacterEncoding(&quot;utf-8&quot;)æ˜¯è®¾ç½®requestå¤„ç†æµçš„ç¼–ç </li><li>getQueryStringæ–¹æ³•å¹¶æ²¡æœ‰é€šè¿‡æµçš„æ–¹å¼è·å–æ•°æ®</li></ul><p>æ‰€ä»¥GETè¯·æ±‚ä¸èƒ½ç”¨è®¾ç½®ç¼–ç çš„æ–¹å¼æ¥è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜ï¼Œé‚£é—®é¢˜åˆæ¥äº†ï¼Œå¦‚ä½•è§£å†³GETè¯·æ±‚çš„ä¸­æ–‡ä¹±ç å‘¢?</p><ol><li>é¦–å…ˆæˆ‘ä»¬éœ€è¦å…ˆåˆ†æä¸‹GETè¯·æ±‚å‡ºç°ä¹±ç çš„åŸå› :</li></ol><figure><img src="/assets/GETä¹±ç çš„åŸå› -Ab3C00gT.png" alt="GETä¹±ç çš„åŸå› " tabindex="0" loading="lazy"><figcaption>GETä¹±ç çš„åŸå› </figcaption></figure><p>(1)æµè§ˆå™¨é€šè¿‡HTTPåè®®å‘é€è¯·æ±‚å’Œæ•°æ®ç»™åå°æœåŠ¡å™¨ï¼ˆTomcat)</p><p>(2)æµè§ˆå™¨åœ¨å‘é€HTTPçš„è¿‡ç¨‹ä¸­ä¼šå¯¹ä¸­æ–‡æ•°æ®è¿›è¡ŒURL<mark>ç¼–ç </mark></p><p>(3)åœ¨è¿›è¡ŒURLç¼–ç çš„æ—¶å€™ä¼šé‡‡ç”¨é¡µé¢<code>&lt;meta&gt;</code>æ ‡ç­¾æŒ‡å®šçš„UTF-8çš„æ–¹å¼è¿›è¡Œç¼–ç ï¼Œ<code>å¼ ä¸‰</code>ç¼–ç åçš„ç»“æœä¸º<code>%E5%BC%A0%E4%B8%89</code></p><p>(4)åå°æœåŠ¡å™¨(Tomcat)æ¥æ”¶åˆ°<code>%E5%BC%A0%E4%B8%89</code>åä¼šé»˜è®¤æŒ‰ç…§<code>ISO-8859-1</code>è¿›è¡ŒURL<mark>è§£ç </mark></p><p>(5)ç”±äºå‰åç¼–ç ä¸è§£ç é‡‡ç”¨çš„æ ¼å¼ä¸ä¸€æ ·ï¼Œå°±ä¼šå¯¼è‡´åå°è·å–åˆ°çš„æ•°æ®ä¸ºä¹±ç ã€‚</p><p>æ€è€ƒ: å¦‚æœæŠŠ<code>req.html</code>é¡µé¢çš„<code>&lt;meta&gt;</code>æ ‡ç­¾çš„charsetå±æ€§æ”¹æˆ<code>ISO-8859-1</code>,åå°ä¸åšæ“ä½œï¼Œèƒ½è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜ä¹ˆ?</p><p>ç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œå› ä¸º<code>ISO-8859-1</code>æœ¬èº«æ˜¯ä¸æ”¯æŒä¸­æ–‡å±•ç¤ºçš„ï¼Œæ‰€ä»¥æ”¹äº†<meta>æ ‡ç­¾çš„charsetå±æ€§åï¼Œä¼šå¯¼è‡´é¡µé¢ä¸Šçš„ä¸­æ–‡å†…å®¹éƒ½æ— æ³•æ­£å¸¸å±•ç¤ºã€‚</p><p><strong>URLç¼–ç </strong></p><p>è¿™å—çŸ¥è¯†æˆ‘ä»¬åªéœ€è¦äº†è§£ä¸‹å³å¯,å…·ä½“ç¼–ç è¿‡ç¨‹åˆ†ä¸¤æ­¥ï¼Œåˆ†åˆ«æ˜¯:</p><p>(1)å°†å­—ç¬¦ä¸²æŒ‰ç…§ç¼–ç æ–¹å¼è½¬ä¸ºäºŒè¿›åˆ¶</p><p>(2)æ¯ä¸ªå­—èŠ‚è½¬ä¸º2ä¸ª16è¿›åˆ¶æ•°å¹¶åœ¨å‰è¾¹åŠ ä¸Š%</p><p><code>å¼ ä¸‰</code>æŒ‰ç…§UTF-8çš„æ–¹å¼è½¬æ¢æˆäºŒè¿›åˆ¶çš„ç»“æœä¸º:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1110 0101 1011 1100 1010 0000 1110 0100 1011 1000 1000 1001
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ¨è®¡ç®—çš„åå…­è¿›åˆ¶ç»“æœä¸­ï¼Œæ¯ä¸¤ä½å‰é¢åŠ ä¸€ä¸ª%,å°±å¯ä»¥è·å–åˆ°<code>%E5%BC%A0%E4%B8%89</code>ã€‚</p><p>åœ¨Javaä¸­ä¸ºæˆ‘ä»¬æä¾›äº†ç¼–ç å’Œè§£ç çš„APIå·¥å…·ç±»å¯ä»¥è®©æˆ‘ä»¬æ›´å¿«é€Ÿçš„è¿›è¡Œç¼–ç å’Œè§£ç :</p><p>ç¼–ç :</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span>URLEncoder</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">&quot;éœ€è¦è¢«ç¼–ç çš„å†…å®¹&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;å­—ç¬¦é›†(UTF-8)&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è§£ç :</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span>URLDecoder</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span><span class="token string">&quot;éœ€è¦è¢«è§£ç çš„å†…å®¹&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;å­—ç¬¦é›†(UTF-8)&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ¥ä¸‹æ¥å’±ä»¬å¯¹<code>å¼ ä¸‰</code>æ¥è¿›è¡Œç¼–ç å’Œè§£ç </p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>public class URLDemo {

  public static void main(String[] args) throws UnsupportedEncodingException {
        String username = &quot;å¼ ä¸‰&quot;;
        //1. URLç¼–ç 
        String encode = URLEncoder.encode(username, &quot;utf-8&quot;);
        System.out.println(encode); //æ‰“å°:%E5%BC%A0%E4%B8%89

       //2. URLè§£ç 
       //String decode = URLDecoder.decode(encode, &quot;utf-8&quot;);//æ‰“å°:å¼ ä¸‰
       String decode = URLDecoder.decode(encode, &quot;ISO-8859-1&quot;);//æ‰“å°:`Ã¥Â¼ Ã¤Â¸ `
       System.out.println(decode);
    }
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ°è¿™ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ†æå‡ºGETè¯·æ±‚ä¸­æ–‡å‚æ•°å‡ºç°ä¹±ç çš„åŸå› äº†ï¼Œ</p><ul><li>æµè§ˆå™¨æŠŠä¸­æ–‡å‚æ•°æŒ‰ç…§<code>UTF-8</code>è¿›è¡ŒURLç¼–ç </li><li>Tomcatå¯¹è·å–åˆ°çš„å†…å®¹è¿›è¡Œäº†<code>ISO-8859-1</code>çš„URLè§£ç </li><li>åœ¨æ§åˆ¶å°å°±ä¼šå‡ºç°ç±»ä¸Š<code>Ã¥Â¼ Ã¤Â¸Â‰</code>çš„ä¹±ç ï¼Œæœ€åä¸€ä½æ˜¯ä¸ªç©ºæ ¼</li></ul><p>ä»ä¸Šå›¾å¯ä»¥çœ‹ä½ï¼Œ</p><ul><li><p>åœ¨è¿›è¡Œç¼–ç å’Œè§£ç çš„æ—¶å€™ï¼Œä¸ç®¡ä½¿ç”¨çš„æ˜¯å“ªä¸ªå­—ç¬¦é›†ï¼Œä»–ä»¬å¯¹åº”çš„<code>%E5%BC%A0%E4%B8%89</code>æ˜¯ä¸€è‡´çš„</p></li><li><p>é‚£ä»–ä»¬å¯¹åº”çš„äºŒè¿›åˆ¶å€¼ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œä¸º:</p><ul><li><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1110 0101 1011 1100 1010 0000 1110 0100 1011 1000 1000 1001
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul></li><li><p>ä¸ºæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è€ƒè™‘æŠŠ<code>Ã¥Â¼ Ã¤Â¸Â‰</code>è½¬æ¢æˆå­—èŠ‚ï¼Œåœ¨æŠŠå­—èŠ‚è½¬æ¢æˆ<code>å¼ ä¸‰</code>ï¼Œåœ¨è½¬æ¢çš„è¿‡ç¨‹ä¸­æ˜¯å®ƒä»¬çš„ç¼–ç ä¸€è‡´ï¼Œå°±å¯ä»¥è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜ã€‚</p></li></ul><p>å…·ä½“çš„å®ç°æ­¥éª¤ä¸º:</p><blockquote><p>1.æŒ‰ç…§ISO-8859-1ç¼–ç è·å–ä¹±ç <code>Ã¥Â¼ Ã¤Â¸Â‰</code>å¯¹åº”çš„å­—èŠ‚æ•°ç»„</p><p>2.æŒ‰ç…§UTF-8ç¼–ç è·å–å­—èŠ‚æ•°ç»„å¯¹åº”çš„å­—ç¬¦ä¸²</p></blockquote><p>å®ç°ä»£ç å¦‚ä¸‹:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>public class URLDemo {

  public static void main(String[] args) throws UnsupportedEncodingException {
        String username = &quot;å¼ ä¸‰&quot;;
        //1. URLç¼–ç 
        String encode = URLEncoder.encode(username, &quot;utf-8&quot;);
        System.out.println(encode);
        //2. URLè§£ç 
        String decode = URLDecoder.decode(encode, &quot;ISO-8859-1&quot;);

        System.out.println(decode); //æ­¤å¤„æ‰“å°çš„æ˜¯å¯¹åº”çš„ä¹±ç æ•°æ®

        //3. è½¬æ¢ä¸ºå­—èŠ‚æ•°æ®,ç¼–ç 
        byte[] bytes = decode.getBytes(&quot;ISO-8859-1&quot;);
        for (byte b : bytes) {
            System.out.print(b + &quot; &quot;);
        }
		//æ­¤å¤„æ‰“å°çš„æ˜¯:-27 -68 -96 -28 -72 -119
        //4. å°†å­—èŠ‚æ•°ç»„è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œè§£ç 
        String s = new String(bytes, &quot;utf-8&quot;);
        System.out.println(s); //æ­¤å¤„æ‰“å°çš„æ˜¯å¼ ä¸‰
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * ä¸­æ–‡ä¹±ç é—®é¢˜è§£å†³æ–¹æ¡ˆ
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/req4&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RequestDemo4</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1. è§£å†³ä¹±ç ï¼šPOSTï¼ŒgetReader()</span>
        <span class="token comment">//request.setCharacterEncoding(&quot;UTF-8&quot;);//è®¾ç½®å­—ç¬¦è¾“å…¥æµçš„ç¼–ç </span>

        <span class="token comment">//2. è·å–username</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è§£å†³ä¹±ç å‰ï¼š&quot;</span><span class="token operator">+</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//3. GET,è·å–å‚æ•°çš„æ–¹å¼ï¼šgetQueryString</span>
        <span class="token comment">// ä¹±ç åŸå› ï¼štomcatè¿›è¡ŒURLè§£ç ï¼Œé»˜è®¤çš„å­—ç¬¦é›†ISO-8859-1</span>
       <span class="token comment">/* //3.1 å…ˆå¯¹ä¹±ç æ•°æ®è¿›è¡Œç¼–ç ï¼šè½¬ä¸ºå­—èŠ‚æ•°ç»„
        byte[] bytes = username.getBytes(StandardCharsets.ISO_8859_1);
        //3.2 å­—èŠ‚æ•°ç»„è§£ç 
        username = new String(bytes, StandardCharsets.UTF_8);*/</span>

        username  <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>username<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span><span class="token constant">ISO_8859_1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span><span class="token constant">UTF_8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è§£å†³ä¹±ç åï¼š&quot;</span><span class="token operator">+</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ³¨æ„</strong></p><ul><li>æŠŠ<code>request.setCharacterEncoding(&quot;UTF-8&quot;)</code>ä»£ç æ³¨é‡Šæ‰åï¼Œä¼šå‘ç°GETè¯·æ±‚å‚æ•°ä¹±ç è§£å†³æ–¹æ¡ˆåŒæ—¶ä¹Ÿå¯ä¹ŸæŠŠPOSTè¯·æ±‚å‚æ•°ä¹±ç çš„é—®é¢˜ä¹Ÿè§£å†³äº†</li><li>åªä¸è¿‡å¯¹äºPOSTè¯·æ±‚å‚æ•°ä¸€èˆ¬éƒ½ä¼šæ¯”è¾ƒå¤šï¼Œé‡‡ç”¨è¿™ç§æ–¹å¼è§£å†³ä¹±ç èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œæ‰€ä»¥å¯¹äºPOSTè¯·æ±‚è¿˜æ˜¯å»ºè®®ä½¿ç”¨è®¾ç½®ç¼–ç çš„æ–¹å¼è¿›è¡Œã€‚</li></ul><h3 id="_2-5-requestè¯·æ±‚è½¬å‘" tabindex="-1"><a class="header-anchor" href="#_2-5-requestè¯·æ±‚è½¬å‘" aria-hidden="true">#</a> 2.5 Requestè¯·æ±‚è½¬å‘</h3><ol><li>è¯·æ±‚è½¬å‘(forward):ä¸€ç§åœ¨æœåŠ¡å™¨å†…éƒ¨çš„èµ„æºè·³è½¬æ–¹å¼ã€‚</li></ol><figure><img src="/assets/Responseé‡å®šå‘-udDv7ilH.png" alt="Responseé‡å®šå‘" tabindex="0" loading="lazy"><figcaption>Responseé‡å®šå‘</figcaption></figure><p>(1)æµè§ˆå™¨å‘é€è¯·æ±‚ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ä¸­å¯¹åº”çš„èµ„æºAæ¥æ”¶åˆ°è¯·æ±‚</p><p>(2)èµ„æºAå¤„ç†å®Œè¯·æ±‚åå°†è¯·æ±‚å‘ç»™èµ„æºB</p><p>(3)èµ„æºBå¤„ç†å®Œåå°†ç»“æœå“åº”ç»™æµè§ˆå™¨</p><p>(4)è¯·æ±‚ä»èµ„æºAåˆ°èµ„æºBçš„è¿‡ç¨‹å°±å«<strong>è¯·æ±‚è½¬å‘</strong></p><ol start="2"><li>è¯·æ±‚è½¬å‘çš„å®ç°æ–¹å¼:</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>req.getRequestDispatcher(&quot;èµ„æºBè·¯å¾„&quot;).forward(req,resp);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å…·ä½“å¦‚ä½•æ¥ä½¿ç”¨ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹éœ€æ±‚:</p><figure><img src="/assets/Responseé‡å®šå‘2-tfO4Ok8p.png" alt="Responseé‡å®šå‘" tabindex="0" loading="lazy"><figcaption>Responseé‡å®šå‘</figcaption></figure><p>ä»£ç å®ç°ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * è¯·æ±‚è½¬å‘
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/req5&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RequestDemo5</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;demo5...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è¯·æ±‚è½¬å‘</span>
        request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/req6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * è¯·æ±‚è½¬å‘
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/req6&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RequestDemo6</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;demo6...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>è¯·æ±‚è½¬å‘èµ„æºé—´å…±äº«æ•°æ®:ä½¿ç”¨Requestå¯¹è±¡</li></ol><p>æ­¤å¤„ä¸»è¦è§£å†³çš„é—®é¢˜æ˜¯æŠŠè¯·æ±‚ä»<code>/req5</code>è½¬å‘åˆ°<code>/req6</code>çš„æ—¶å€™ï¼Œå¦‚ä½•ä¼ é€’æ•°æ®ç»™<code>/req6</code>ã€‚</p><p>éœ€è¦ä½¿ç”¨requestå¯¹è±¡æä¾›çš„ä¸‰ä¸ªæ–¹æ³•:</p><ul><li>å­˜å‚¨æ•°æ®åˆ°requeståŸŸ[èŒƒå›´,æ•°æ®æ˜¯å­˜å‚¨åœ¨requestå¯¹è±¡]ä¸­</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>void setAttribute(String name,Object o);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>æ ¹æ®keyè·å–å€¼</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Object getAttribute(String name);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>æ ¹æ®keyåˆ é™¤è¯¥é”®å€¼å¯¹</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>void removeAttribute(String name);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/req5&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RequestDemo5</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;demo5...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//å­˜å‚¨æ•°æ®</span>
        request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è¯·æ±‚è½¬å‘</span>
        request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/req6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * è¯·æ±‚è½¬å‘
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/req6&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RequestDemo6</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;demo6...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è·å–æ•°æ®</span>
        <span class="token class-name">Object</span> msg <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>è¯·æ±‚è½¬å‘çš„ç‰¹ç‚¹</li></ol><ul><li><p>æµè§ˆå™¨åœ°å€æ è·¯å¾„ä¸å‘ç”Ÿå˜åŒ–</p><p>è™½ç„¶åå°ä»<code>/req5</code>è½¬å‘åˆ°<code>/req6</code>,ä½†æ˜¯æµè§ˆå™¨çš„åœ°å€ä¸€ç›´æ˜¯<code>/req5</code>,æœªå‘ç”Ÿå˜åŒ–</p></li><li><p>åªèƒ½è½¬å‘åˆ°å½“å‰æœåŠ¡å™¨çš„å†…éƒ¨èµ„æº</p><p>ä¸èƒ½ä»ä¸€ä¸ªæœåŠ¡å™¨é€šè¿‡è½¬å‘è®¿é—®å¦ä¸€å°æœåŠ¡å™¨</p></li><li><p>ä¸€æ¬¡è¯·æ±‚ï¼Œå¯ä»¥åœ¨è½¬å‘èµ„æºé—´ä½¿ç”¨requestå…±äº«æ•°æ®</p><p>è™½ç„¶åå°ä»<code>/req5</code>è½¬å‘åˆ°<code>/req6</code>ï¼Œä½†æ˜¯è¿™ä¸ª<strong>åªæœ‰ä¸€æ¬¡è¯·æ±‚</strong></p></li></ul><h2 id="_3-responseå¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_3-responseå¯¹è±¡" aria-hidden="true">#</a> 3. Responseå¯¹è±¡</h2><ul><li>Request:ä½¿ç”¨requestå¯¹è±¡æ¥<strong>è·å–</strong>è¯·æ±‚æ•°æ®</li><li>Response:ä½¿ç”¨responseå¯¹è±¡æ¥<strong>è®¾ç½®</strong>å“åº”æ•°æ®</li></ul><p>Reponseçš„ç»§æ‰¿ä½“ç³»å’ŒRequestçš„ç»§æ‰¿ä½“ç³»ä¹Ÿéå¸¸ç›¸ä¼¼:</p><figure><img src="/assets/Responseçš„ç»§æ‰¿ä½“ç³»-FVkcSC9C.png" alt="Responseçš„ç»§æ‰¿ä½“ç³»" tabindex="0" loading="lazy"><figcaption>Responseçš„ç»§æ‰¿ä½“ç³»</figcaption></figure><h3 id="_3-1-responseè®¾ç½®å“åº”æ•°æ®åŠŸèƒ½ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_3-1-responseè®¾ç½®å“åº”æ•°æ®åŠŸèƒ½ä»‹ç»" aria-hidden="true">#</a> 3.1 Responseè®¾ç½®å“åº”æ•°æ®åŠŸèƒ½ä»‹ç»</h3><p>HTTPå“åº”æ•°æ®æ€»å…±åˆ†ä¸ºä¸‰éƒ¨åˆ†å†…å®¹ï¼Œåˆ†åˆ«æ˜¯<strong>å“åº”è¡Œã€å“åº”å¤´ã€å“åº”ä½“</strong></p><ol><li>å“åº”è¡Œ</li></ol><figure><img src="/assets/å“åº”è¡Œ-sNruhWHS.png" alt="å“åº”è¡Œ" tabindex="0" loading="lazy"><figcaption>å“åº”è¡Œ</figcaption></figure><p>å¯¹äºå“åº”å¤´ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„å°±æ˜¯è®¾ç½®å“åº”çŠ¶æ€ç :</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>void setStatus(int sc);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>å“åº”å¤´</li></ol><figure><img src="/assets/å“åº”å¤´--D44ax8K.png" alt="å“åº”å¤´" tabindex="0" loading="lazy"><figcaption>å“åº”å¤´</figcaption></figure><p>è®¾ç½®å“åº”å¤´é”®å€¼å¯¹ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>void setHeader(String name,String value);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="3"><li>å“åº”ä½“</li></ol><figure><img src="/assets/å“åº”ä½“-icCsNz04.png" alt="å“åº”ä½“" tabindex="0" loading="lazy"><figcaption>å“åº”ä½“</figcaption></figure><p>å¯¹äºå“åº”ä½“ï¼Œæ˜¯é€šè¿‡å­—ç¬¦ã€å­—èŠ‚è¾“å‡ºæµçš„æ–¹å¼å¾€æµè§ˆå™¨å†™ï¼Œ</p><p>è·å–å­—ç¬¦è¾“å‡ºæµ:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>PrintWriter getWriter();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è·å–å­—èŠ‚è¾“å‡ºæµ</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>ServletOutputStream getOutputStream();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-2-responesè¯·æ±‚é‡å®šå‘" tabindex="-1"><a class="header-anchor" href="#_3-2-responesè¯·æ±‚é‡å®šå‘" aria-hidden="true">#</a> 3.2 Responesè¯·æ±‚é‡å®šå‘</h3><ol><li><strong>Responseé‡å®šå‘(redirect):ä¸€ç§èµ„æºè·³è½¬æ–¹å¼</strong>ã€‚ <ol><li>æµè§ˆå™¨å‘é€è¯·æ±‚ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ä¸­å¯¹åº”çš„èµ„æºAæ¥æ”¶åˆ°è¯·æ±‚</li><li>èµ„æºAç°åœ¨æ— æ³•å¤„ç†è¯¥è¯·æ±‚ï¼Œå°±ä¼šç»™æµè§ˆå™¨å“åº”ä¸€ä¸ª302çš„çŠ¶æ€ç +locationçš„ä¸€ä¸ªè®¿é—®èµ„æºBçš„è·¯å¾„</li><li>æµè§ˆå™¨æ¥æ”¶åˆ°å“åº”çŠ¶æ€ç ä¸º302å°±ä¼šé‡æ–°å‘é€è¯·æ±‚åˆ°locationå¯¹åº”çš„è®¿é—®åœ°å€å»è®¿é—®èµ„æºB</li><li>èµ„æºBæ¥æ”¶åˆ°è¯·æ±‚åè¿›è¡Œå¤„ç†å¹¶æœ€ç»ˆç»™æµè§ˆå™¨å“åº”ç»“æœï¼Œè¿™æ•´ä¸ªè¿‡ç¨‹å°±å«<strong>é‡å®šå‘</strong></li></ol></li></ol><figure><img src="/assets/Responseé‡å®šå‘-udDv7ilH.png" alt="Responseé‡å®šå‘" tabindex="0" loading="lazy"><figcaption>Responseé‡å®šå‘</figcaption></figure><ol start="2"><li>é‡å®šå‘çš„å®ç°æ–¹å¼:</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>resp.setStatus(302);
resp.setHeader(&quot;location&quot;,&quot;èµ„æºBçš„è®¿é—®è·¯å¾„&quot;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/assets/Responseé‡å®šå‘2-tfO4Ok8p.png" alt="Responseé‡å®šå‘" tabindex="0" loading="lazy"><figcaption>Responseé‡å®šå‘</figcaption></figure><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/resp1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ResponseDemo1</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;resp1....&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//é‡å®šå‘</span>
        <span class="token comment">//1.è®¾ç½®å“åº”çŠ¶æ€ç  302</span>
        response<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token number">302</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2. è®¾ç½®å“åº”å¤´ Location</span>
        response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Location&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/request-demo/resp2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/resp2&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ResponseDemo2</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;resp2....&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è™½ç„¶åŠŸèƒ½å·²ç»å®ç°ï¼Œä½†æ˜¯ä»è®¾ç½®é‡å®šå‘çš„ä¸¤è¡Œä»£ç æ¥çœ‹ï¼Œä¼šå‘ç°é™¤äº†é‡å®šå‘çš„åœ°å€ä¸ä¸€æ ·ï¼Œå…¶ä»–çš„å†…å®¹éƒ½æ˜¯ä¸€æ¨¡ä¸€æ ·ï¼Œæ‰€ä»¥requestå¯¹è±¡ç»™æˆ‘ä»¬æä¾›äº†ç®€åŒ–çš„ç¼–å†™æ–¹å¼ä¸º:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>resposne.sendRedirect(&quot;/request-demo/resp2&quot;)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ‰€ä»¥ä»£ç å°±å¯ä»¥ç®€åŒ–ä¸ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/resp1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ResponseDemo1</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;resp1....&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//é‡å®šå‘</span>
        resposne<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token string">&quot;/request-demo/resp2&quot;</span><span class="token punctuation">)</span>ï¼›
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>é‡å®šå‘çš„ç‰¹ç‚¹</li></ol><ul><li><p>æµè§ˆå™¨åœ°å€æ è·¯å¾„å‘é€å˜åŒ–</p><p>å½“è¿›è¡Œé‡å®šå‘è®¿é—®çš„æ—¶å€™ï¼Œç”±äºæ˜¯ç”±æµè§ˆå™¨å‘é€çš„ä¸¤æ¬¡è¯·æ±‚ï¼Œæ‰€ä»¥åœ°å€ä¼šå‘ç”Ÿå˜åŒ–</p><figure><img src="/assets/æµè§ˆå™¨åœ°å€æ è·¯å¾„å‘é€å˜åŒ–-Yg3cec0v.png" alt="æµè§ˆå™¨åœ°å€æ è·¯å¾„å‘é€å˜åŒ–" tabindex="0" loading="lazy"><figcaption>æµè§ˆå™¨åœ°å€æ è·¯å¾„å‘é€å˜åŒ–</figcaption></figure></li><li><p>å¯ä»¥é‡å®šå‘åˆ°ä»»ä½•ä½ç½®çš„èµ„æº(æœåŠ¡å†…å®¹ã€å¤–éƒ¨å‡å¯)</p><p>å› ä¸ºç¬¬ä¸€æ¬¡å“åº”ç»“æœä¸­åŒ…å«äº†æµè§ˆå™¨ä¸‹æ¬¡è¦è·³è½¬çš„è·¯å¾„ï¼Œæ‰€ä»¥è¿™ä¸ªè·¯å¾„æ˜¯å¯ä»¥ä»»æ„ä½ç½®èµ„æºã€‚</p></li><li><p>ä¸¤æ¬¡è¯·æ±‚ï¼Œä¸èƒ½åœ¨å¤šä¸ªèµ„æºä½¿ç”¨requestå…±äº«æ•°æ®</p><p>å› ä¸ºæµè§ˆå™¨å‘é€äº†ä¸¤æ¬¡è¯·æ±‚ï¼Œæ˜¯ä¸¤ä¸ªä¸åŒçš„requestå¯¹è±¡ï¼Œå°±æ— æ³•é€šè¿‡requestå¯¹è±¡è¿›è¡Œå…±äº«æ•°æ®</p></li></ul><ul><li>è¯·æ±‚é‡å®šå‘å’Œè¯·æ±‚è½¬å‘çš„åŒºåˆ«</li></ul><figure><img src="/assets/è¯·æ±‚é‡å®šå‘å’Œè¯·æ±‚è½¬å‘-XdW7iV6z.png" alt="è¯·æ±‚é‡å®šå‘å’Œè¯·æ±‚è½¬å‘" tabindex="0" loading="lazy"><figcaption>è¯·æ±‚é‡å®šå‘å’Œè¯·æ±‚è½¬å‘</figcaption></figure><p>ä»¥ååˆ°åº•ç”¨å“ªä¸ªï¼Œè¿˜æ˜¯éœ€è¦æ ¹æ®å…·ä½“çš„ä¸šåŠ¡æ¥å†³å®šã€‚</p><h3 id="_3-3-è·¯å¾„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_3-3-è·¯å¾„é—®é¢˜" aria-hidden="true">#</a> 3.3 è·¯å¾„é—®é¢˜</h3><ol><li>é—®é¢˜1ï¼šè½¬å‘çš„æ—¶å€™è·¯å¾„ä¸Šæ²¡æœ‰åŠ <code>/request-demo</code>è€Œé‡å®šå‘åŠ äº†ï¼Œé‚£ä¹ˆåˆ°åº•ä»€ä¹ˆæ—¶å€™éœ€è¦åŠ ï¼Œä»€ä¹ˆæ—¶å€™ä¸éœ€è¦åŠ å‘¢?</li></ol><figure><img src="/assets/è·¯å¾„é—®é¢˜-r3hzcBhN.png" alt="è·¯å¾„é—®é¢˜" tabindex="0" loading="lazy"><figcaption>è·¯å¾„é—®é¢˜</figcaption></figure><p>å…¶å®åˆ¤æ–­çš„ä¾æ®å¾ˆç®€å•ï¼Œåªéœ€è¦è®°ä½ä¸‹é¢çš„è§„åˆ™å³å¯:</p><ul><li>æµè§ˆå™¨ä½¿ç”¨:éœ€è¦åŠ è™šæ‹Ÿç›®å½•(é¡¹ç›®è®¿é—®è·¯å¾„)</li><li>æœåŠ¡ç«¯ä½¿ç”¨:ä¸éœ€è¦åŠ è™šæ‹Ÿç›®å½•</li></ul><p>å¯¹äºè½¬å‘æ¥è¯´ï¼Œå› ä¸ºæ˜¯åœ¨æœåŠ¡ç«¯è¿›è¡Œçš„ï¼Œæ‰€ä»¥ä¸éœ€è¦åŠ è™šæ‹Ÿç›®å½•</p><p>å¯¹äºé‡å®šå‘æ¥è¯´ï¼Œè·¯å¾„æœ€ç»ˆæ˜¯ç”±æµè§ˆå™¨æ¥å‘é€è¯·æ±‚ï¼Œå°±éœ€è¦æ·»åŠ è™šæ‹Ÿç›®å½•ã€‚</p><ol start="2"><li>é—®é¢˜2ï¼šåœ¨é‡å®šå‘çš„ä»£ç ä¸­ï¼Œ<code>/request-demo</code>æ˜¯å›ºå®šç¼–ç çš„ï¼Œå¦‚æœåæœŸé€šè¿‡Tomcatæ’ä»¶é…ç½®äº†é¡¹ç›®çš„è®¿é—®è·¯å¾„ï¼Œé‚£ä¹ˆæ‰€æœ‰éœ€è¦é‡å®šå‘çš„åœ°æ–¹éƒ½éœ€è¦é‡æ–°ä¿®æ”¹ï¼Œè¯¥å¦‚ä½•ä¼˜åŒ–?</li></ol><figure><img src="/assets/é‡å®šå‘çš„ä»£ç -aGNFyNNp.png" alt="é‡å®šå‘çš„ä»£ç " tabindex="0" loading="lazy"><figcaption>é‡å®šå‘çš„ä»£ç </figcaption></figure><p>ç­”æ¡ˆä¹Ÿæ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»£ç ä¸­åŠ¨æ€å»è·å–é¡¹ç›®è®¿é—®çš„è™šæ‹Ÿç›®å½•ï¼Œå…·ä½“å¦‚ä½•è·å–ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©å‰é¢å’±ä»¬æ‰€å­¦ä¹ çš„requestå¯¹è±¡ä¸­çš„getContextPath()æ–¹æ³•ï¼Œä¿®æ”¹åçš„ä»£ç å¦‚ä¸‹:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/resp1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ResponseDemo1</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;resp1....&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//ç®€åŒ–æ–¹å¼å®Œæˆé‡å®šå‘</span>
        <span class="token comment">//åŠ¨æ€è·å–è™šæ‹Ÿç›®å½•</span>
        <span class="token class-name">String</span> contextPath <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>contextPath<span class="token operator">+</span><span class="token string">&quot;/resp2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‡æ–°å¯åŠ¨è®¿é—®æµ‹è¯•ï¼ŒåŠŸèƒ½ä¾ç„¶èƒ½å¤Ÿå®ç°ï¼Œæ­¤æ—¶å°±å¯ä»¥åŠ¨æ€è·å–é¡¹ç›®è®¿é—®çš„è™šæ‹Ÿè·¯å¾„ï¼Œä»è€Œé™ä½ä»£ç çš„è€¦åˆåº¦ã€‚</p><h3 id="_3-4-responseå“åº”å­—ç¬¦æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_3-4-responseå“åº”å­—ç¬¦æ•°æ®" aria-hidden="true">#</a> 3.4 Responseå“åº”å­—ç¬¦æ•°æ®</h3><p>è¦æƒ³å°†å­—ç¬¦æ•°æ®å†™å›åˆ°æµè§ˆå™¨ï¼Œæˆ‘ä»¬éœ€è¦ä¸¤ä¸ªæ­¥éª¤:</p><ul><li><p>é€šè¿‡Responseå¯¹è±¡è·å–å­—ç¬¦è¾“å‡ºæµï¼š PrintWriter writer = resp.getWriter();</p></li><li><p>é€šè¿‡å­—ç¬¦è¾“å‡ºæµå†™æ•°æ®: writer.write(&quot;aaa&quot;);</p></li></ul><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å®ç°é€šè¿‡äº›æ¡ˆä¾‹æŠŠå“åº”å­—ç¬¦æ•°æ®ç»™å®é™…åº”ç”¨ä¸‹:</p><ol><li>è¿”å›ä¸€ä¸ªç®€å•çš„å­—ç¬¦ä¸²<code>aaa</code></li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * å“åº”å­—ç¬¦æ•°æ®ï¼šè®¾ç½®å­—ç¬¦æ•°æ®çš„å“åº”ä½“
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/resp3&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ResponseDemo3</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//1. è·å–å­—ç¬¦è¾“å‡ºæµ</span>
        <span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		 writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;aaa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>è¿”å›ä¸€ä¸²htmlå­—ç¬¦ä¸²ï¼Œå¹¶ä¸”èƒ½è¢«æµè§ˆå™¨è§£æ</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>PrintWriter writer = response.getWriter();
//content-typeï¼Œå‘Šè¯‰æµè§ˆå™¨è¿”å›çš„æ•°æ®ç±»å‹æ˜¯HTMLç±»å‹æ•°æ®ï¼Œè¿™æ ·æµè§ˆå™¨æ‰ä¼šè§£æHTMLæ ‡ç­¾
response.setHeader(&quot;content-type&quot;,&quot;text/html&quot;);
writer.write(&quot;&lt;h1&gt;aaa&lt;/h1&gt;&quot;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">æ³¨æ„:</p><p>ä¸€æ¬¡è¯·æ±‚å“åº”ç»“æŸåï¼Œresponseå¯¹è±¡å°±ä¼šè¢«é”€æ¯æ‰ï¼Œæ‰€ä»¥ä¸è¦æ‰‹åŠ¨å…³é—­æµã€‚</p></div><ol start="3"><li>è¿”å›ä¸€ä¸ªä¸­æ–‡çš„å­—ç¬¦ä¸²<code>ä½ å¥½</code>ï¼Œéœ€è¦æ³¨æ„è®¾ç½®å“åº”æ•°æ®çš„ç¼–ç ä¸º<code>utf-8</code></li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>//è®¾ç½®å“åº”çš„æ•°æ®æ ¼å¼åŠæ•°æ®çš„ç¼–ç 
response.setContentType(&quot;text/html;charset=utf-8&quot;);
writer.write(&quot;ä½ å¥½&quot;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-5-responseå“åº”å­—èŠ‚æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_3-5-responseå“åº”å­—èŠ‚æ•°æ®" aria-hidden="true">#</a> 3.5 Responseå“åº”å­—èŠ‚æ•°æ®</h3><p>è¦æƒ³å°†å­—èŠ‚æ•°æ®å†™å›åˆ°æµè§ˆå™¨ï¼Œæˆ‘ä»¬éœ€è¦ä¸¤ä¸ªæ­¥éª¤:</p><ul><li><p>é€šè¿‡Responseå¯¹è±¡è·å–å­—èŠ‚è¾“å‡ºæµï¼šServletOutputStream outputStream = resp.getOutputStream();</p></li><li><p>é€šè¿‡å­—èŠ‚è¾“å‡ºæµå†™æ•°æ®: outputStream.write(å­—èŠ‚æ•°æ®);</p></li></ul><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å®ç°é€šè¿‡äº›æ¡ˆä¾‹æŠŠå“åº”å­—ç¬¦æ•°æ®ç»™å®é™…åº”ç”¨ä¸‹:</p><ol><li>è¿”å›ä¸€ä¸ªå›¾ç‰‡æ–‡ä»¶åˆ°æµè§ˆå™¨</li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * å“åº”å­—èŠ‚æ•°æ®ï¼šè®¾ç½®å­—èŠ‚æ•°æ®çš„å“åº”ä½“
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/resp4&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ResponseDemo4</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1. è¯»å–æ–‡ä»¶</span>
        <span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;d://a.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2. è·å–responseå­—èŠ‚è¾“å‡ºæµ</span>
        <span class="token class-name">ServletOutputStream</span> os <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//3. å®Œæˆæµçš„copy</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buff <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buff<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            os<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>buff<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        fis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šè¿°ä»£ç ä¸­ï¼Œå¯¹äºæµçš„copyçš„ä»£ç è¿˜æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ«äººæä¾›å¥½çš„æ–¹æ³•æ¥ç®€åŒ–ä»£ç çš„å¼€å‘ï¼Œå…·ä½“çš„æ­¥éª¤æ˜¯:</p><p>(1)pom.xmlæ·»åŠ ä¾èµ–</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>commons-io<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>commons-io<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(2)è°ƒç”¨å·¥å…·ç±»æ–¹æ³•</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>//fis:è¾“å…¥æµ
//os:è¾“å‡ºæµ
IOUtils.copy(fis,os);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¼˜åŒ–åçš„ä»£ç :</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * å“åº”å­—èŠ‚æ•°æ®ï¼šè®¾ç½®å­—èŠ‚æ•°æ®çš„å“åº”ä½“
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/resp4&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ResponseDemo4</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1. è¯»å–æ–‡ä»¶</span>
        <span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;d://a.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2. è·å–responseå­—èŠ‚è¾“å‡ºæµ</span>
        <span class="token class-name">ServletOutputStream</span> os <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//3. å®Œæˆæµçš„copy</span>
      	<span class="token class-name">IOUtils</span><span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>fis<span class="token punctuation">,</span>os<span class="token punctuation">)</span><span class="token punctuation">;</span>
        fis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!----><!--]--><footer class="page-meta"><!----><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 351833699@qq.com">zhaowei</span><!--]--><!--]--></div></div></footer><!----><div id="comment" class="giscus-wrapper input-top" style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!--[--><!----><!--]--><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer"><a href="" target="_blank">æ–­å‰‘é‡é“¸ä¹‹æ—¥ï¼Œéª‘å£«å½’æ¥ä¹‹æ—¶</a></div><div class="vp-copyright">Copyright Â© 2024 Mr.WEI</div></footer></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-JIs1ltJE.js" defer></script>
  </body>
</html>
